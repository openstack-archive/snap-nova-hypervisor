setup:
  dirs:
    - "{snap_common}/etc/nova/conf.d"
    - "{snap_common}/etc/neutron/conf.d"
    - "{snap_common}/etc/neutron/plugins/ml2"
    - "{snap_common}/lib/nova/instances"
    - "{snap_common}/lib/neutron"
    - "{snap_common}/log/nova"
    - "{snap_common}/log/neutron"
    - "{snap_common}/lock/nova"
    - "{snap_common}/lock/neutron"
    - "{snap_common}/run/nova"
    - "{snap_common}/run/neutron"
  symlinks:
    "{snap_common}/etc/nova": /etc/nova
    "{snap_common}/etc/neutron": /etc/neutron
    "{snap_common}/lib/nova": /var/lib/nova
    "{snap_common}/lib/neutron": /var/lib/neutron
    "{snap_common}/log/nova": /var/log/nova
    "{snap_common}/log/neutron": /var/log/neutron
    "{snap_common}/lock/nova": /var/lock/nova
    "{snap_common}/lock/neutron": /var/lock/neutron
    "{snap_common}/run/nova": /var/run/nova
    "{snap_common}/run/neutron": /var/run/neutron
  templates:
    nova-snap.conf.j2: "{snap_common}/etc/nova/conf.d/nova-snap.conf"
    neutron-snap.conf.j2: "{snap_common}/etc/neutron/conf.d/neutron-snap.conf"
  copyfiles:
    "{snap}/etc/nova": "{snap_common}/etc/nova"
    "{snap}/etc/neutron": "{snap_common}/etc/neutron"
entry_points:
  nova-compute:
    binary: nova-compute
    config-files:
      - "/etc/nova/nova.conf"
    config-dirs:
      - "/etc/nova/conf.d"
    log-file: "/var/log/nova/compute.log"
  nova-api-metadata:
    binary: nova-api-metadata
    config-files:
      - "/etc/nova/nova.conf"
    config-dirs:
      - "/etc/nova/conf.d"
    log-file: "/var/log/nova/api-metadata.log"
  neutron-openvswitch-agent:
    binary: neutron-openvswitch-agent
    config-files:
      - "/etc/neutron/neutron.conf"
      - "/etc/neutron/plugins/ml2/openvswitch_agent.ini"
    config-dirs:
      - "/etc/neutron/conf.d"
    log-file: "/var/log/neutron/openvswitch-agent.log"
  neutron-ovs-cleanup:
    binary: neutron-ovs-cleanup
    config-files:
      - "/etc/neutron/neutron.conf"
    config-dirs:
      - "/etc/neutron/conf.d"
  neutron-netns-cleanup:
    binary: neutron-netns-cleanup
    config-files:
      - "/etc/neutron/neutron.conf"
    config-dirs:
      - "/etc/neutron/conf.d"
  neutron-l3-agent:
    binary: neutron-l3-agent
    config-files:
      - "/etc/neutron/neutron.conf"
      - "/etc/neutron/l3_agent.ini"
    config-dirs:
      - "/etc/neutron/conf.d"
    log-file: "/var/log/neutron/l3-agent.log"
  neutron-dhcp-agent:
    binary: neutron-dhcp-agent
    config-files:
      - "/etc/neutron/neutron.conf"
      - "/etc/neutron/dhcp_agent.ini"
    config-dirs:
      - "/etc/neutron/conf.d"
    log-file: "/var/log/dhcp-agent.log"
  neutron-metadata-agent:
    binary: neutron-metadata-agent
    config-files:
      - "/etc/neutron/neutron.conf"
      - "/etc/neutron/metadata_agent.ini"
    config-dirs:
      - "/etc/neutron/conf.d"
    log-file: "/var/log/metadata-agent.log"
